{
	PC_load
	PC_output
	MAR_load
	MBR_input_sel
	memory_read
	memory_load
	MBR_output
	IR_load
	EA_Gate
	GPRF_load
	GPRF_output
	IRF_load
	IRF_only
}
{
	INITIALIZED				: FETCH_PC_TO_MAR
	FETCH_PC_TO_MAR			: FETCH_MEMORY_ACCESS
	FETCH_MEMORY_ACCESS		: FETCH_MBR_TO_IR
	FETCH_MBR_TO_IR			: DECODE
	DECODE 					: {
		0					: HALT						# HLT
		{
			1				# LDR
			65				# LDR, Indirect.
			2				# STR
			66				# STR, Indirect.
			67				# LDA, Indirect. Noticed that it shares the same path as LDR.
			33				# LDX
			97				# LDX, Indirect.
			34				# STX
			98				# STX, Indirect.
		}					: EA_TO_MAR					
		3					: EA_TO_REGISTER			# LDA
	}
	EA_TO_MAR				: {
		{
			1				# LDR
			67				# LDA, Indirect.
			33				# LDX
		}					: MEMORY_ACCESS	
		{
			65				# LDR, Indirect.
			66				# STR, Indirect.
			97				# LDX, Indirect.
			98				# STX, Indirect.
		}					: PRE_MEMORY_ACCESS			
		2					: GPRF_TO_MBR				# STR	
		34					: IRF_TO_MBR				# STX
	}
	PRE_MEMORY_ACCESS		: MBR_TO_MAR
	MEMORY_ACCESS			: {
		{
			1				# LDR
			65				# LDR, Indirect.
			67				# LDA, Indirect.
		}					: MBR_TO_GRFS
		{
			66				# STR, Indirect.
			2				# STR
			34				# STX
		}					: UPDATE_PC	
		{
			33				# LDX
			97				# LDX, Indirect.
		}					: MBR_TO_IRF
	}
	MBR_TO_MAR				: {
		{
			65				# LDR, Indirect.
			97				# LDX, Indirect.
		}					: MEMORY_ACCESS	
		66					: GPRF_TO_MBR				# STR, Indirect.
		98					: IRF_TO_MBR				# STX, Indirect.
	}
	{
		GPRF_TO_MBR	
		IRF_TO_MBR				
	}						: MEMORY_WRITE
	UPDATE_PC				: FETCH_PC_TO_MAR
	{
		MBR_TO_GRFS
		EA_TO_REGISTER
		MBR_TO_IRF
		MEMORY_WRITE
	}						: UPDATE_PC
}
{
	FETCH_PC_TO_MAR 		: PC_output, MAR_load
	FETCH_MEMORY_ACCESS 	: memory_read
	FETCH_MBR_TO_IR			: MBR_output, IR_load
	EA_TO_MAR				: EA_Gate, MAR_load
	MEMORY_ACCESS	 		: memory_read
	PRE_MEMORY_ACCESS		: memory_read
	MEMORY_WRITE			: memory_load
	MBR_TO_MAR				: MBR_output, MAR_load
	MBR_TO_GRFS				: MBR_output, GPRF_load
	MBR_TO_IRF			 	: MBR_output, IRF_load
	EA_TO_REGISTER 			: EA_Gate, GPRF_load
	GPRF_TO_MBR			 	: memory_read, GPRF_output, MBR_input_sel
	IRF_TO_MBR				: memory_read, IRF_only, MBR_input_sel, EA_Gate
	UPDATE_PC			 	: PC_load
}